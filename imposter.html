<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Imposter-Spiel mit Spieler-Speicherung</title>
  <style>
    body { background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); color: #fff; min-height: 100vh; padding: 20px; display: flex; justify-content: center; align-items: center; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
    .container { background-color: rgba(21, 33, 62, 0.9); border-radius: 20px; padding: 30px; box-shadow: 0 10px 25px rgba(0,0,0,0.5); width: 100%; max-width: 700px; }
    h1 { color: #e94560; text-align: center; margin-bottom: 20px; }
    .input-group { display: flex; gap: 10px; justify-content: center; margin-bottom: 20px; }
    input, select { flex: 1; padding: 12px; border-radius: 25px; border: none; background: rgba(255,255,255,0.1); color: #fff; font-size: 16px; }
    input::placeholder { color: rgba(255,255,255,0.6); }
    button { background: #e94560; border: none; border-radius: 25px; padding: 12px 20px; font-weight: bold; cursor: pointer; color: #fff; transition: all 0.3s ease; }
    button:hover { background: #c53d54; transform: scale(1.05); }
    .player-list { display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; margin-bottom: 20px; }
    .player-card { background: linear-gradient(145deg,#0f3460,#533483); border-radius: 20px; padding: 15px 20px; display: flex; align-items: center; gap: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.4); transition: transform 0.3s; cursor: pointer; }
    .player-card:hover { transform: translateY(-5px); }
    .avatar { background: #4cc9f0; color: #16213e; border-radius: 50%; width: 40px; height: 40px; display: flex; justify-content: center; align-items: center; font-weight: bold; font-size: 18px; }
    .remove-player { margin-left: auto; background: #e94560; border-radius: 50%; width: 25px; height: 25px; display: flex; justify-content: center; align-items: center; font-size: 14px; cursor: pointer; transition: background 0.2s; }
    .remove-player:hover { background: #c53d54; }
    .hidden { display: none; }
    .word-display { font-size: 28px; font-weight: bold; color: #e94560; margin: 30px 0; text-align: center; padding: 20px; background-color: rgba(15, 52, 96, 0.5); border-radius: 10px; min-height: 100px; display: flex; justify-content: center; align-items: center; opacity: 0; transition: opacity 1s ease; }
    .word-display.visible { opacity: 1; }
  </style>
</head>
<body>
  
  
  <div class="container">
    <div class="flex justify-center mb-6">
    <div class="bg-gray-900 text-gray-200 font-sans px-6 py-4">
    <a href="index.html" class="flex items-center gap-2 text-gray-200 hover:text-yellow font-medium" style="color: white;">
      Back to Homepage
    </a>
    </div>
    <h1>ðŸŽ­ Imposter Spiel</h1>
    <div id="setupPhase">
      <div class="input-group">
        <input type="text" id="playerName" placeholder="Spielername eingeben" onkeypress="handleKeyPress(event)">
        <button onclick="addPlayer()">âž• HinzufÃ¼gen</button>
      </div>
      <div class="player-list" id="playersContainer"></div>
      <div class="input-group">
        <label for="imposterCount">Anzahl an Impostern:</label>
        <select id="imposterCount">
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
        </select>
      </div>
      <button id="startBtn" onclick="startGame()" disabled>ðŸš€ Spiel starten</button>
    </div>

    <div id="wordDisplayPhase" class="hidden">
      <h2>Wort anzeigen fÃ¼r:</h2>
      <h3 id="currentPlayer"></h3>
      <div class="word-display" id="wordDisplay"></div>
      <button onclick="toggleWord()">Wort ein-/ausblenden</button>
      <button onclick="nextPlayer()">NÃ¤chster Spieler</button>
    </div>

    <div id="discussionPhase" class="hidden">
      <h2>Diskussionsphase</h2>
      <p>Alle haben ihr Wort gesehen. Jetzt diskutiert!</p>
      <button onclick="startVoting()">Abstimmung starten</button>
    </div>

    <div id="votingPhase" class="hidden">
      <h2>Abstimmung</h2>
      <div id="votingOptions"></div>
    </div>

    <div id="resultsPhase" class="hidden">
      <h2>Ergebnis</h2>
      <div id="result"></div>
      <div id="playerResults"></div>
      <button onclick="resetGame()">ðŸ”„ Neues Spiel</button>
    </div>
  </div>

  <script>
    const WORD_PAIRS = [
      { normal: "Pizza", imposter: "Burger" },
      { normal: "Hund", imposter: "Katze" },
      { normal: "Sommer", imposter: "Winter" },
      { normal: "Apfel", imposter: "Banane" },
      { normal: "Auto", imposter: "Fahrrad" },
      { normal: "Buch", imposter: "Zeitung" },
      { normal: "Stuhl", imposter: "Tisch" },
      { normal: "Meer", imposter: "Fluss" },
      { normal: "Sonne", imposter: "Mond" },
      { normal: "Musik", imposter: "Stille" },
      { normal: "Kaffee", imposter: "Tee" },
      { normal: "Berg", imposter: "Tal" },
      { normal: "Schule", imposter: "Arbeit" },
      { normal: "Freude", imposter: "Trauer" },
      { normal: "Liebe", imposter: "Hass" },
      { normal: "Frieden", imposter: "Krieg" },
      { normal: "Lachen", imposter: "Weinen" },
      { normal: "Gewinn", imposter: "Verlust" },
      { normal: "Mut", imposter: "Angst" },
      { normal: "Wahrheit", imposter: "LÃ¼ge" },
      { normal: "Einfach", imposter: "Schwer" },
      { normal: "Hell", imposter: "Dunkel" },
      { normal: "Warm", imposter: "Kalt" },
      { normal: "Schnell", imposter: "Langsam" },
      { normal: "Gross", imposter: "Klein" },
      { normal: "Neu", imposter: "Alt" },
      { normal: "Gut", imposter: "Schlecht" },
      { normal: "Stark", imposter: "Schwach" },
      { normal: "Fleissig", imposter: "Faul" },
      { normal: "Klug", imposter: "Dumm" },
      { normal: "Frei", imposter: "Gefangen" },
      { normal: "SÃ¼ss", imposter: "Sauer" },
      { normal: "Scharf", imposter: "Mild" },
      { normal: "Laut", imposter: "Leise" },
      { normal: "Hart", imposter: "Weich" },
      { normal: "Trocken", imposter: "Feucht" },
      { normal: "Sauber", imposter: "Schmutzig" },
      { normal: "Voll", imposter: "Leer" },
      { normal: "Reich", imposter: "Arm" },
      { normal: "Gesund", imposter: "Krank" },
      { normal: "GlÃ¼cklich", imposter: "Traurig" },
      { normal: "Besser", imposter: "Schlimmer" },
      { normal: "Nah", imposter: "Fern" },
      { normal: "Oben", imposter: "Unten" },
      { normal: "Vorne", imposter: "Hinten" },
      { normal: "Links", imposter: "Rechts" },
      { normal: "Start", imposter: "Ende" },
      { normal: "Tag", imposter: "Nacht" },
      { normal: "Leben", imposter: "Tod" },
      { normal: "Ja", imposter: "Nein" },
      { normal: "Hier", imposter: "Dort" },
      { normal: "Tasse", imposter: "Glas" },
      { normal: "Hut", imposter: "MÃ¼tze" },
      { normal: "Hose", imposter: "Rock" },
      { normal: "Hemd", imposter: "Bluse" },
      { normal: "Schuh", imposter: "Socke" },
      { normal: "Jacke", imposter: "Mantel" },
      { normal: "Brille", imposter: "Linse" },
      { normal: "Uhr", imposter: "Kalender" },
      { normal: "Kamm", imposter: "BÃ¼rste" },
      { normal: "Seife", imposter: "Shampoo" },
      { normal: "Handtuch", imposter: "Waschlappen" },
      { normal: "Bett", imposter: "Sofa" },
      { normal: "Kissen", imposter: "Decke" },
      { normal: "Lampe", imposter: "Kerze" },
      { normal: "Fenster", imposter: "TÃ¼r" },
      { normal: "Wand", imposter: "Decke" },
      { normal: "Boden", imposter: "Teppich" },
      { normal: "Treppe", imposter: "Aufzug" },
      { normal: "Keller", imposter: "Dachboden" },
      { normal: "Garage", imposter: "Parkplatz" },
      { normal: "Garten", imposter: "Balkon" },
      { normal: "Blume", imposter: "Gras" },
      { normal: "Baum", imposter: "Strauch" },
      { normal: "Vogel", imposter: "Schmetterling" },
      { normal: "Fisch", imposter: "Wurm" },
      { normal: "Katze", imposter: "Maus" },
      { normal: "Hund", imposter: "Knochen" },
      { normal: "Pferd", imposter: "Sattel" },
      { normal: "Kuh", imposter: "Milch" },
      { normal: "Schaf", imposter: "Wolle" },
      { normal: "Huhn", imposter: "Ei" },
      { normal: "Schwein", imposter: "Schlamm" },
      { normal: "Ente", imposter: "Teich" },
      { normal: "Affe", imposter: "Banane" },
      { normal: "LÃ¶we", imposter: "Antilope" },
      { normal: "Tiger", imposter: "Dschungel" },
      { normal: "Elefant", imposter: "Stamm" },
      { normal: "BÃ¤r", imposter: "Honig" },
      { normal: "Wolf", imposter: "Mond" },
      { normal: "Fuchs", imposter: "Bau" },
      { normal: "Hirsch", imposter: "Wald" },
      { normal: "Igel", imposter: "Stachel" },
      { normal: "EichhÃ¶rnchen", imposter: "Nuss" },
      { normal: "Ameise", imposter: "Zucker" },
      { normal: "Biene", imposter: "Honigwabe" },
      { normal: "Spinne", imposter: "Netz" },
      { normal: "MÃ¼cke", imposter: "Blut" },
      { normal: "Fliege", imposter: "MÃ¼ll" },
      { normal: "KÃ¤fer", imposter: "Blatt" }
    ];

    let players = JSON.parse(localStorage.getItem("players")) || [];
    let currentPlayerIndex = 0;
    let normalWord = "";
    let imposterWord = "";
    let imposters = [];
    let votes = {};

    function handleKeyPress(event) { if (event.key === "Enter") addPlayer(); }

    function addPlayer() {
      const input = document.getElementById("playerName");
      const name = input.value.trim();
      if (name && !players.includes(name)) {
        players.push(name);
        input.value = "";
        savePlayers();
        updatePlayersList();
        document.getElementById("startBtn").disabled = players.length < 3;
      }
    }

    function removePlayer(index) {
      players.splice(index,1);
      savePlayers();
      updatePlayersList();
      document.getElementById("startBtn").disabled = players.length < 3;
    }

    function updatePlayersList() {
      const container = document.getElementById("playersContainer");
      container.innerHTML = "";
      players.forEach((player,index)=>{
        const card = document.createElement("div");
        card.className = "player-card";
        card.innerHTML = `
          <div class="avatar">${player.charAt(0).toUpperCase()}</div>
          <span>${player}</span>
          <div class="remove-player" onclick="removePlayer(${index})">âœ•</div>
        `;
        container.appendChild(card);
      });
    }

    function savePlayers() { localStorage.setItem("players", JSON.stringify(players)); }

    function startGame() {
      if (players.length < 3) return;
      const selectedPair = WORD_PAIRS[Math.floor(Math.random() * WORD_PAIRS.length)];
      normalWord = selectedPair.normal;
      imposterWord = selectedPair.imposter;
      currentPlayerIndex = 0;
      imposters = [];

      const imposterCount = parseInt(document.getElementById("imposterCount").value);
      while (imposters.length < imposterCount) {
        const randIndex = Math.floor(Math.random() * players.length);
        if (!imposters.includes(randIndex)) imposters.push(randIndex);
      }

      switchPhase("setupPhase","wordDisplayPhase");
      showWordForCurrentPlayer();
    }

    function showWordForCurrentPlayer() {
      const currentPlayer = players[currentPlayerIndex];
      document.getElementById("currentPlayer").textContent = currentPlayer;
      const word = imposters.includes(currentPlayerIndex) ? imposterWord : normalWord;
      const wordDisplay = document.getElementById("wordDisplay");
      wordDisplay.textContent = word;
      wordDisplay.classList.remove("visible");
    }

    function toggleWord() { document.getElementById("wordDisplay").classList.toggle("visible"); }

    function nextPlayer() {
      currentPlayerIndex++;
      if (currentPlayerIndex < players.length) {
        showWordForCurrentPlayer();
      } else {
        switchPhase("wordDisplayPhase","discussionPhase");
      }
    }

    function startVoting() {
      switchPhase("discussionPhase","votingPhase");
      const votingOptions = document.getElementById("votingOptions");
      votingOptions.innerHTML = "";
      players.forEach(player => {
        const button = document.createElement("button");
        button.textContent = player;
        button.onclick = () => castVote(player);
        votingOptions.appendChild(button);
      });
      votes = {};
      players.forEach(p => votes[p] = 0);
    }

    function castVote(votedPlayer) { votes[votedPlayer]++; showResults(); }

    function showResults() {
      switchPhase("votingPhase","resultsPhase");
      let maxVotes = 0;
      let votedPlayer = null;
      for (const player in votes) {
        if (votes[player] > maxVotes) { maxVotes = votes[player]; votedPlayer = player; }
      }
      const resultElem = document.getElementById("result");
      const imposterNames = imposters.map(i => players[i]);
      if (imposterNames.includes(votedPlayer)) {
        resultElem.textContent = `Die Gruppe hat gewonnen! Imposter waren: ${imposterNames.join(", ")}`;
      } else {
        resultElem.textContent = `Die Imposter haben gewonnen! Imposter waren: ${imposterNames.join(", ")}`;
      }
      const playerResultsElem = document.getElementById("playerResults");
      playerResultsElem.innerHTML = "";
      players.forEach((player,index)=>{
        const p = document.createElement("p");
        p.textContent = `${player}: ${imposters.includes(index) ? 'Imposter ('+imposterWord+')' : 'Normal ('+normalWord+')'}`;
        playerResultsElem.appendChild(p);
      });
    }

    function resetGame() {
      currentPlayerIndex = 0;
      normalWord = "";
      imposterWord = "";
      imposters = [];
      votes = {};
      document.getElementById("playerName").value = "";
      updatePlayersList();
      document.getElementById("startBtn").disabled = players.length < 3;
      switchPhase("resultsPhase","setupPhase");
    }

    function switchPhase(fromId,toId){
      document.getElementById(fromId).classList.add("hidden");
      document.getElementById(toId).classList.remove("hidden");
    }

    updatePlayersList();
    document.getElementById("startBtn").disabled = players.length < 3;
  </script>
</body>
</html>
